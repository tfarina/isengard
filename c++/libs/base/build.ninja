cflags = -g -Wall -Werror -std=gnu++11 -pedantic
builddir = out/obj

rule cxx
  command = clang++ ${include_dirs} ${cflags} -c ${in} -o ${out}

rule link
  command = clang++ ${ldflags} -o ${out} ${in} ${libs}

build $builddir/file_util.o: cxx file_util.cc
build $builddir/file_util_test.o: cxx file_util_test.cc
build out/file_util_test: link $builddir/file_util.o $builddir/file_util_test.o
