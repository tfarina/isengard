cc = clang++
cflags = -g -Wall -Werror -std=gnu++11 -pedantic
builddir = out/obj

rule cc
  command = $cc $cflags $includes -c $in -o $out

rule link
  command = $cc $ldflags -o $out $in $libs

build $builddir/json_load_dump_file.o: cc json_load_dump_file.cc
build out/json_load_dump_file: link $builddir/json_load_dump_file.o
  libs = -ljansson
