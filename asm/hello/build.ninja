builddir = out

rule asm
        command = as -o $out $in

rule link
        command = ld -o $out $in

build $builddir/hello_x86_64.o: asm x86_64/hello.s
build $builddir/hello: link $builddir/hello_x86_64.o
